/******/!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}// webpackBootstrap
/******/
var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(1),a=n(2),i=n(3),o=n(4),s=n(5),c=n(6),l=n(7);angular.module("angularSpa",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ui.router","ngMaterial","toastr"]).config(r.config).config(a.routerConfig).run(i.runBlock).service("git",c.GitService).controller("MainController",o.MainController).controller("UserController",s.UserController).directive("aspaSearchbox",l.SearchboxDirective)},function(t,e){"use strict";function n(t){"ngInject";t.debugEnabled(!0)}n.$inject=["$logProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e.config=n},function(t,e){"use strict";function n(t,e){"ngInject";t.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).state("user",{url:"/user/:id",templateUrl:"app/components/user/user.html",controller:"UserController",controllerAs:"user"}),e.otherwise("/")}n.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e.routerConfig=n},function(t,e){"use strict";function n(t,e){"ngInject";t.debug("runBlock end"),e.defaults.headers.common.Authorization="token 70f02798a8acfc6af028d8eebe167b5a5d74bdd1"}n.$inject=["$log","$http"],Object.defineProperty(e,"__esModule",{value:!0}),e.runBlock=n},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.MainController=["$window",function r(t){"ngInject";n(this,r),this.homepage=t.location.href.indexOf("angular-spa")>-1?"/angular-spa":"/"}]},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.UserController=function(){function t(e,r,a,i){"ngInject";n(this,t),this.$window=r,this.$mdToast=a,this.id=e.id,this.gistId=this.$window.sessionStorage.getItem(this.id),this.git=i,this.loadUser(this.id),this.loadUserGist(this.id),this.homepage=r.location.href.indexOf("angular-spa")>-1?"/angular-spa":"/"}return t.$inject=["$stateParams","$window","$mdToast","git"],r(t,[{key:"loadUser",value:function(t){var e=this;return this.git.getUser(t).then(function(t){e.name=t.name,e.avatar=t.avatar_url,e.location=t.location})}},{key:"loadUserGist",value:function(){var t=this;this.gistId&&this.git.getGist(this.gistId).then(function(e){t.gistDesc=e.description,t.gistCont=e.files.angulargist.content})}},{key:"saveUserGist",value:function(){var t=this;return this.git.saveGist(this.gistDesc,this.gistCont,this.gistId).then(function(e){t.$window.sessionStorage.setItem(t.id,e.id),t.$mdToast.show(t.$mdToast.simple().textContent("Gist saved successfully!").hideDelay(3e3))})}}]),t}()},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.GitService=function(){function t(e,r){"ngInject";n(this,t),this.$log=e,this.$http=r,this.apiHost="https://api.github.com"}return t.$inject=["$log","$http"],r(t,[{key:"getUsers",value:function(t){var e=this;return this.$http.get(this.apiHost+"/search/users?q="+t).then(function(t){return t.data})["catch"](function(t){e.$log.error("XHR Failed for getUsers.\n"+angular.toJson(t.data,!0))})}},{key:"getUser",value:function(t){var e=this;return this.$http.get(this.apiHost+"/users/"+t).then(function(t){return t.data})["catch"](function(t){e.$log.error("XHR Failed for getUser.\n"+angular.toJson(t.data,!0))})}},{key:"saveGist",value:function(t,e,n){var r=this,a=angular.isUndefined(n)?this.$http.patch:this.$http.post,i=this.apiHost+"/gists"+(angular.isUndefined(n)?"/"+n:"");return a(i,{description:t,"public":!0,files:{angulargist:{content:e}}}).then(function(t){return t.data})["catch"](function(t){r.$log.error("XHR Failed for saveGist.\n"+angular.toJson(t.data,!0))})}},{key:"getGist",value:function(t){var e=this;return this.$http.get(this.apiHost+"/gists/"+t).then(function(t){return t.data})["catch"](function(t){e.$log.error("XHR Failed for getGist.\n"+angular.toJson(t.data,!0))})}}]),t}()},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){"ngInject";var t={restrict:"E",templateUrl:"app/components/searchbox/searchbox.html",scope:{creationDate:"="},controller:i,controllerAs:"vm",bindToController:!0};return t}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.SearchboxDirective=r;var i=function(){function t(e,r){"ngInject";n(this,t),this.git=r}return t.$inject=["$q","git"],a(t,[{key:"querySearch",value:function(t){return this.git.getUsers(t).then(function(t){return t.items})}}]),t}()}]),angular.module("angularSpa").run(["$templateCache",function(t){t.put("app/main/main.html","<div layout=vertical layout-fill><md-content class=page-content><header><a href={{main.homepage}}><md-toolbar layout=row layout-align=\"center center\">Angular Gist SPA</md-toolbar></a></header><section class=jumbotron><h1>'Hi, there!'</h1><aspa-searchbox></aspa-searchbox></section></md-content></div>"),t.put("app/components/searchbox/searchbox.html",'<md-autocomplete flex md-input-name=autocompleteField md-input-minlength=2 md-no-cache=vm.noCache md-selected-item=vm.selectedItem md-search-text=vm.searchText md-items="item in vm.querySearch(vm.searchText)" md-item-text=item.login md-require-match md-floating-label="Search for github user" md-dropdown-position=bottom><md-item-template><a class=autocomplete-option ui-sref="user({id: item.login})"><img class=avatar src={{item.avatar_url}} alt="user avatar"> <span md-highlight-text=vm.searchText>{{item.login}}</span></a></md-item-template><div ng-messages=searchForm.autocompleteField.$error ng-if=searchForm.autocompleteField.$touched><div ng-message=md-require-match>Please select a user from the list.</div><div ng-message=minlength>Your entry is not long enough.</div></div></md-autocomplete>'),t.put("app/components/user/user.html",'<div layout=vertical layout-fill><md-content class="page-content user-page"><header><a href={{user.homepage}}><md-toolbar layout=row layout-align="center center">Angular Gist SPA</md-toolbar></a></header><md-card md-colors="::{backgroundColor: \'default-primary-700\'}"><md-card-title><md-card-title-media><div class="md-media-sm card-media" layout md-colors="::{background: \'default-accent\'}" style="background-image: url(\'{{user.avatar}}\')"><md-icon md-svg-icon=person></md-icon></div></md-card-title-media><md-card-title-text><span class=md-headline>{{user.name}}\'s gist</span> <span class="md-subhead description">{{user.location}}</span></md-card-title-text></md-card-title></md-card><md-card><md-input-container class=md-block><label>Gist Description</label><input ng-model=user.gistDesc></md-input-container><md-input-container class=md-block><label>Gist Content</label><textarea ng-model=user.gistCont md-maxlength=150 rows=5 md-select-on-focus></textarea></md-input-container></md-card><md-button class="md-raised md-primary" ng-click=user.saveUserGist()>Save</md-button><a href={{user.homepage}}><md-button class="md-raised back-btn">Go Back</md-button></a></md-content></div>')}]);
//# sourceMappingURL=../maps/scripts/app-bdf434255a.js.map
